# Формулювання ефективних запитів для ШІ-агентів кодування

[← Повернутися до списку питань](../agents.md)

## Основні підходи до постановки задач

Стосовно постановки задачі агенту, найпростіше розглядати агенти перш за все як чат для спілкування зі штучним інтелектом, але з урахуванням того, що він може редагувати файли.

### Початок роботи

Для ефективного початку роботи найкраще:

1. **Почати обговорювати свій проект** - просто поговорити про завдання, над яким працюєте
2. **Передати формулювання завдання** - якщо у вас є:
   - Короткий текстовий опис
   - Детальне технічне завдання

Часто, якщо завдання невелике, можна просто скопіювати своє робоче завдання і передати його агенту – він може відразу взятися за його виконання. Звичайно, іноді може знадобитися щось трохи підправити, і завжди варто перевіряти, чи коректно все зроблено.

## Деякі приклади запитів до агента

### Пошукові запити

Коли я працюю над задачею, в мене виникають думки на кшталт: "Зараз мені потрібно знайти, де використовується певний метод". Маючи задачу, я роблю пошук, щоб зрозуміти, з якими файлами працювати. У таких випадках можна:

- Попросити агента допомогти розібратися та знайти те, що знаходиться в проекті
- Покращити своє розуміння кодової бази
- Визначити, які методи потрібно буде редагувати для виконання задачі

### Запити на рефакторинг

Коли у розробника формується розуміння того, що він хоче зробити, наприклад:

- Перенести метод з одного класу в інший
- Розділити методи на менші частини
- Змінити підхід до реалізації функціональності

Замість того, щоб робити це самостійно, можна попросити агента виконати ці дії. Наприклад: "Перенеси метод з цього класу в інший клас" або "Поміняй використання методу X на метод Y у всіх файлах проекту".

## Етапи роботи з агентом

У робочому процесі розробника можна виділити дві окремі частини:

1. **Розуміння того, що потрібно зробити** - формування підходу
2. **Технічна реалізація** - безпосереднє втілення підходу в код

Коли я сформулював для себе, що збираюся робити, я можу просто передати це розуміння агенту, і він зробить технічну реалізацію.

### Приклад автоматизації через скрипти

Іноді мені потрібно зробити масові зміни, які зачіпають багато файлів. У таких випадках:

- Агент може запропонувати написати скрипт для виконання цього завдання
- Це дуже цікавий підхід, оскільки виконання завдання можна автоматизувати
- Самостійно писати такий скрипт було б трудомістко та непрактично
- Агент значно прискорює написання таких скриптів і може за короткий час створити робочий інструмент

## Робота з базами даних

При роботі з базами даних агент може допомогти:

- Подивитися через консоль на структуру таблиці
- Знайти таблиці, які містять певний фрагмент у своїй назві
- Сформувати SQL-запити, наприклад, для виведення унікальних записів (SELECT DISTINCT)

Хоча написати такі запити самостійно нескладно, спілкування з агентом дозволяє формувати допоміжні запити значно швидше. Я лише трохи думаю, трохи друкую, а агент вже правильно виконує необхідні дії.

## Додавання нового функціоналу

Коли я розумію, що хочу додати до класу новий метод або реалізувати певні дії, замість того, щоб робити це самостійно, я можу:

- Сформулювати своє розуміння задачі
- Попросити агента самостійно технічно правильно реалізувати метод

## Повна автоматизація завдання

Можливий також підхід, коли формулюється повне технічне завдання з описом бажаного результату. Дуже часто агент може:

- Самостійно зробити всі необхідні пошуки
- Проаналізувати кодову базу
- Обдумати підхід до поетапного вирішення задачі
- Завершити завдання

Звичайно, мені як людині необхідно перевіряти результат, проводити код-рев'ю і переконуватися, що все виконано правильно.

### Взаємодія під час виконання

Під час виконання агент може багато разів запитувати:
- Чи можна відредагувати певний файл
- Чи можна виконати консольну команду

Тут можна діяти за ситуацією:
- Дозволяти або не дозволяти певні дії
- Робити уточнення у разі потреби
- Корегувати напрямок роботи

## Документування процесу розробки

Цікавий підхід — автоматизоване документування виконання завдання:

- Редагування Markdown-файлів
- Створення чіткої і послідовної документації

Під час нечіткого обговорення можна направити агента на написання структурованої документації. Таке обговорення може призвести до формування:

1. Серії Markdown-файлів, в яких уточнюється те, що ми збираємося зробити
2. Детальних етапів виконання завдання
3. Деталізації кожного кроку вирішення

Після формування документації можна:
- Перевірити підхід до виконання завдання
- Уточнити деталі реалізації
- Скоригувати плани за необхідності
- Перейти до виконання завдання згідно зі сформованим планом

## Загальні поради

Автоматизація, доступна через агенти, різноманітна і багатопланова. Найпростіший спосіб почати — це просто обговорення проекту:

1. Почати обговорювати певну проблему з агентом
2. Дозволити агенту пропонувати варіанти вирішення
3. Вибрати підхід, який подобається більше
4. Перейти до реалізації

### Експериментування з форматами

Для ефективної постановки завдань найкраще **експериментувати з обговоренням проекту**:

- Пробувати більш чіткі і менш чіткі формулювання
- Експериментувати з короткими і розгорнутими описами
- Тестувати детальні і загальні формулювання
- Обговорювати як дрібні підпункти, так і великі завдання в цілому

Це допоможе побачити, що працює краще у вашому конкретному випадку, враховуючи індивідуальні нюанси проекту.

### Ітеративний підхід

Коли я отримую завдання, найпростіше:

1. Сформулювати все завдання повністю і передати його агенту
2. Подивитися, чи може він його виконати
3. Перевірити виконання і за потреби уточнити деталі

Іноді може виникнути "цикл неефективного уточнення", коли агент проявляє упередженість:

1. Агент робить не те, що потрібно
2. Ми уточнюємо, що потрібно зробити
3. Агент знову робить неправильно
4. Після кількох спроб стає зрозуміло, що агент не зможе виконати це саме так, як ми хочемо

У таких випадках краще розглядати співпрацю як розподіл праці:
- Агент виконує ту частину, з якою він справляється
- Розробник доробляє те, що агенту не вдалося

### Важливі моменти

Існують стандартні поради про те, що завдання має бути чітким, розбитим на підпункти, структурованим і поетапним. Я погоджуюся з цим, але хочу додати:

- Під час діалогу з агентом можна краще зрозуміти його сильні та слабкі сторони
- Важливо самостійно завершувати ту частину роботи, яку агент виконує неефективно
- Ознака неефективної роботи — коли після кількох уточнень агент все одно не розуміє, що від нього вимагається

Замість того, щоб зациклюватися на проблемних моментах, краще:
1. Відзначити, який значний обсяг роботи агент уже виконав
2. Самостійно внести необхідні уточнення та правки
3. Використовувати переваги співпраці людини та ШІ